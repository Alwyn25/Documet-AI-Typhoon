2025-11-18 13:30:52,859 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:00:52.859179", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 13:30:52,864 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:00:52.864171", "error": "syntax error at or near \"WHERE\"", "agent": "schema_mapping_agent"}
2025-11-18 13:30:52,864 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:00:52.864171", "error": "syntax error at or near \"WHERE\"", "agent": "schema_mapping_agent"}
2025-11-18 13:31:38,645 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:01:38.645500", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 13:31:38,711 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:01:38.711499", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:31:38,714 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:01:38.714507", "step": "postgres_connection_pool_closed", "agent": "schema_mapping_agent"}
2025-11-18 13:32:40,754 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:02:40.754867", "step": "openai_client_not_available", "agent": "schema_mapping_agent", "message": "OpenAI client not available or API key not set"}
2025-11-18 13:32:40,828 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:02:40.828545", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8202, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 13:32:40,829 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:02:40.829539", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini"}
2025-11-18 13:32:40,910 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:02:40.910067", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 13:32:40,914 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:02:40.914068", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:32:40,914 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:02:40.914068", "step": "database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:33:00,307 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:03:00.307490", "step": "request_completed", "agent": "schema_mapping_agent", "method": "GET", "url": "http://localhost:8202/docs", "status_code": 200, "process_time": 0.0}
2025-11-18 13:33:00,685 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:03:00.685662", "step": "request_completed", "agent": "schema_mapping_agent", "method": "GET", "url": "http://localhost:8202/openapi.json", "status_code": 200, "process_time": 0.008001565933227539}
2025-11-18 13:34:45,430 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:04:45.430264", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 422, "process_time": 0.0009860992431640625}
2025-11-18 13:35:00,216 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:05:00.216035", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 13:35:00,216 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:05:00.216035", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "60de121b099b44f585ca5febd0e32397", "schema_type": "invoice"}
2025-11-18 13:35:00,216 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:05:00.216035", "error": "OpenAI client not initialized. Please set OPENAI_API_KEY.", "agent": "schema_mapping_agent", "process_time": 0.0}
2025-11-18 13:35:00,217 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:05:00.217036", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 400, "process_time": 0.0020008087158203125}
2025-11-18 13:35:31,831 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:05:31.831712", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 13:35:31,831 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:05:31.831712", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "92c07853b95d4ba5b49f4cb2406ac7de", "schema_type": "invoice"}
2025-11-18 13:35:31,831 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:05:31.831712", "error": "OpenAI client not initialized. Please set OPENAI_API_KEY.", "agent": "schema_mapping_agent", "process_time": 0.0}
2025-11-18 13:35:31,833 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:05:31.833710", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 400, "process_time": 0.0030088424682617188}
2025-11-18 13:36:04,742 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:06:04.742030", "step": "postgres_connection_pool_closed", "agent": "schema_mapping_agent"}
2025-11-18 13:36:04,742 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:06:04.742030", "step": "application_shutdown", "agent": "schema_mapping_agent"}
2025-11-18 13:36:12,247 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:06:12.247668", "step": "openai_client_not_available", "agent": "schema_mapping_agent", "message": "OpenAI client not available or API key not set"}
2025-11-18 13:36:12,304 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:06:12.304378", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8202, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 13:36:12,304 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:06:12.304378", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini"}
2025-11-18 13:36:12,360 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:06:12.360378", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 13:36:12,364 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:06:12.364382", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:36:12,365 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:06:12.365380", "step": "database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:36:14,950 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:06:14.950571", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 13:36:14,951 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:06:14.951571", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "8c922e81560d4820898e664937ddb7fd", "schema_type": "invoice"}
2025-11-18 13:36:14,951 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:06:14.951571", "error": "OpenAI client not initialized. Please set OPENAI_API_KEY.", "agent": "schema_mapping_agent", "process_time": 0.0009999275207519531}
2025-11-18 13:36:14,952 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:06:14.952573", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 400, "process_time": 0.0020020008087158203}
2025-11-18 13:37:39,451 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:07:39.451737", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 13:37:39,451 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:07:39.451737", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "1d401015cc64416e945d0195030617c8", "schema_type": "invoice"}
2025-11-18 13:37:39,452 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:07:39.452739", "error": "OpenAI client not initialized. Please set OPENAI_API_KEY.", "agent": "schema_mapping_agent", "process_time": 0.0010027885437011719}
2025-11-18 13:37:39,453 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:07:39.453246", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 400, "process_time": 0.0025091171264648438}
2025-11-18 13:37:54,650 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:07:54.650651", "step": "postgres_connection_pool_closed", "agent": "schema_mapping_agent"}
2025-11-18 13:37:54,651 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:07:54.651645", "step": "application_shutdown", "agent": "schema_mapping_agent"}
2025-11-18 13:38:06,446 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:08:06.446744", "error": "Client.__init__() got an unexpected keyword argument 'proxies'", "agent": "schema_mapping_agent"}
2025-11-18 13:38:06,511 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:08:06.511271", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8005, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 13:38:06,511 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:08:06.511271", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini"}
2025-11-18 13:38:06,576 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:08:06.576276", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 13:38:06,580 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:08:06.580365", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:38:06,580 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:08:06.580365", "step": "database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:39:09,807 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:09:09.807504", "step": "postgres_connection_pool_closed", "agent": "schema_mapping_agent"}
2025-11-18 13:39:09,808 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:09:09.808504", "step": "application_shutdown", "agent": "schema_mapping_agent"}
2025-11-18 13:39:11,587 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:09:11.587525", "error": "Client.__init__() got an unexpected keyword argument 'proxies'", "agent": "schema_mapping_agent"}
2025-11-18 13:39:11,676 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:09:11.676077", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8202, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 13:39:11,677 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:09:11.677078", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini"}
2025-11-18 13:39:11,738 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:09:11.738233", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 13:39:11,742 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:09:11.742230", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:39:11,742 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:09:11.742230", "step": "database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:39:11,992 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:09:11.992828", "step": "request_completed", "agent": "schema_mapping_agent", "method": "GET", "url": "http://localhost:8202/docs", "status_code": 200, "process_time": 0.0}
2025-11-18 13:39:12,125 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:09:12.125367", "step": "request_completed", "agent": "schema_mapping_agent", "method": "GET", "url": "http://localhost:8202/openapi.json", "status_code": 200, "process_time": 0.009006261825561523}
2025-11-18 13:39:32,197 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:09:32.197354", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 13:39:32,197 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:09:32.197354", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "d97d3043e4104b74b7f5182ba3ad0aaf", "schema_type": "invoice"}
2025-11-18 13:39:32,198 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:09:32.198356", "error": "OpenAI client not initialized. Please set OPENAI_API_KEY.", "agent": "schema_mapping_agent", "process_time": 0.0010023117065429688}
2025-11-18 13:39:32,198 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:09:32.198356", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 400, "process_time": 0.0010023117065429688}
2025-11-18 13:39:39,668 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:09:39.668901", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 13:39:39,668 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:09:39.668901", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "fa8b665654b94760a33bf19f67fad356", "schema_type": "invoice"}
2025-11-18 13:39:39,668 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:09:39.668901", "error": "OpenAI client not initialized. Please set OPENAI_API_KEY.", "agent": "schema_mapping_agent", "process_time": 0.0}
2025-11-18 13:39:39,669 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:09:39.669900", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 400, "process_time": 0.0009989738464355469}
2025-11-18 13:41:22,999 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:11:22.999130", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 13:41:22,999 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:11:22.999130", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "d9285843c1df405896cd4c2c8152014f", "schema_type": "invoice"}
2025-11-18 13:41:22,999 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:11:22.999130", "error": "OpenAI client not initialized. Please set OPENAI_API_KEY.", "agent": "schema_mapping_agent", "process_time": 0.0}
2025-11-18 13:41:23,000 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:11:23.000131", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 400, "process_time": 0.002000570297241211}
2025-11-18 13:41:25,393 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:11:25.393773", "step": "postgres_connection_pool_closed", "agent": "schema_mapping_agent"}
2025-11-18 13:41:25,393 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:11:25.393773", "step": "application_shutdown", "agent": "schema_mapping_agent"}
2025-11-18 13:41:27,101 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:11:27.101391", "error": "Client.__init__() got an unexpected keyword argument 'proxies'", "agent": "schema_mapping_agent"}
2025-11-18 13:41:27,170 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:11:27.170479", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8202, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 13:41:27,170 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:11:27.170479", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini"}
2025-11-18 13:41:27,234 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:11:27.234251", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 13:41:27,238 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:11:27.238249", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:41:27,238 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:11:27.238249", "step": "database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:41:29,497 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:11:29.497168", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 13:41:29,497 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:11:29.497168", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "e02b9284a28a4a2493d9a9b75b6d816c", "schema_type": "invoice"}
2025-11-18 13:41:29,498 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:11:29.498156", "error": "OpenAI client not initialized. Please set OPENAI_API_KEY.", "agent": "schema_mapping_agent", "process_time": 0.000988006591796875}
2025-11-18 13:41:29,498 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:11:29.498156", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 400, "process_time": 0.000988006591796875}
2025-11-18 13:42:17,594 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:12:17.594529", "step": "postgres_connection_pool_closed", "agent": "schema_mapping_agent"}
2025-11-18 13:42:17,594 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:12:17.594529", "step": "application_shutdown", "agent": "schema_mapping_agent"}
2025-11-18 13:42:18,389 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:12:18.389540", "error": "Client.__init__() got an unexpected keyword argument 'proxies'", "agent": "schema_mapping_agent"}
2025-11-18 13:42:18,458 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:12:18.458877", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8202, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 13:42:18,458 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:12:18.458877", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini"}
2025-11-18 13:42:18,532 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:12:18.532301", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 13:42:18,536 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:12:18.536302", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:42:18,536 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:12:18.536302", "step": "database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:42:32,635 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:12:32.635914", "step": "postgres_connection_pool_closed", "agent": "schema_mapping_agent"}
2025-11-18 13:42:32,635 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:12:32.635914", "step": "application_shutdown", "agent": "schema_mapping_agent"}
2025-11-18 13:42:33,419 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:12:33.419332", "error": "Client.__init__() got an unexpected keyword argument 'proxies'", "agent": "schema_mapping_agent"}
2025-11-18 13:42:33,485 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:12:33.485694", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8202, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 13:42:33,485 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:12:33.485694", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini"}
2025-11-18 13:42:33,557 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:12:33.557782", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 13:42:33,561 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:12:33.561765", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:42:33,561 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:12:33.561765", "step": "database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:42:35,429 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:12:35.429078", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 13:42:35,429 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:12:35.429078", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "7b9329de645647789a262b7b2d944273", "schema_type": "invoice"}
2025-11-18 13:42:35,429 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:12:35.429078", "error": "OpenAI client not initialized. Please set OPENAI_API_KEY.", "agent": "schema_mapping_agent", "process_time": 0.0}
2025-11-18 13:42:35,430 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:12:35.430072", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 400, "process_time": 0.0019991397857666016}
2025-11-18 13:42:59,447 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:12:59.447153", "step": "postgres_connection_pool_closed", "agent": "schema_mapping_agent"}
2025-11-18 13:42:59,448 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:12:59.448147", "step": "application_shutdown", "agent": "schema_mapping_agent"}
2025-11-18 13:43:00,123 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:13:00.123964", "error": "Client.__init__() got an unexpected keyword argument 'proxies'", "agent": "schema_mapping_agent"}
2025-11-18 13:43:00,194 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:13:00.194489", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8202, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 13:43:00,195 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:13:00.194489", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini"}
2025-11-18 13:43:00,259 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:13:00.259915", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 13:43:00,263 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:13:00.263908", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:43:00,264 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:13:00.264907", "step": "database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:43:01,356 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:13:01.356936", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 13:43:01,356 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:13:01.356936", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "dbbe32e9849f4afbbaad0dfd230dfd11", "schema_type": "invoice"}
2025-11-18 13:43:01,357 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:13:01.357935", "error": "OpenAI client not initialized. Please set OPENAI_API_KEY.", "agent": "schema_mapping_agent", "process_time": 0.00099945068359375}
2025-11-18 13:43:01,357 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:13:01.357935", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 400, "process_time": 0.00099945068359375}
2025-11-18 13:44:25,625 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:14:25.625469", "step": "postgres_connection_pool_closed", "agent": "schema_mapping_agent"}
2025-11-18 13:44:25,625 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:14:25.625469", "step": "application_shutdown", "agent": "schema_mapping_agent"}
2025-11-18 13:44:26,293 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:14:26.293989", "error": "Client.__init__() got an unexpected keyword argument 'proxies'", "agent": "schema_mapping_agent"}
2025-11-18 13:44:26,368 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:14:26.368693", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8202, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 13:44:26,368 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:14:26.368693", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini", "openai_api_key_set": true, "openai_api_key_length": 164}
2025-11-18 13:44:26,435 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:14:26.435219", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 13:44:26,439 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:14:26.439210", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:44:26,440 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:14:26.439210", "step": "database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:44:27,125 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:14:27.125565", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 13:44:27,125 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:14:27.125565", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "6a30dbaf3d254ca08756db8ddde60db7", "schema_type": "invoice"}
2025-11-18 13:44:27,125 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:14:27.125565", "error": "OpenAI client not initialized. Please set OPENAI_API_KEY.", "agent": "schema_mapping_agent", "process_time": 0.0}
2025-11-18 13:44:27,126 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:14:27.126564", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 400, "process_time": 0.0019986629486083984}
2025-11-18 13:45:35,964 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:15:35.964059", "step": "postgres_connection_pool_closed", "agent": "schema_mapping_agent"}
2025-11-18 13:45:35,964 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:15:35.964059", "step": "application_shutdown", "agent": "schema_mapping_agent"}
2025-11-18 13:45:36,764 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:15:36.764932", "error": "Client.__init__() got an unexpected keyword argument 'proxies'", "agent": "schema_mapping_agent"}
2025-11-18 13:45:36,842 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:15:36.842420", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8202, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 13:45:36,842 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:15:36.842420", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini", "openai_api_key_set": true, "openai_api_key_length": 164}
2025-11-18 13:45:36,918 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:15:36.918168", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 13:45:36,922 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:15:36.922166", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:45:36,923 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:15:36.922166", "step": "database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:45:39,939 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:15:39.939614", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 13:45:39,939 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:15:39.939614", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "ca24345d64604492bbecae5396069e88", "schema_type": "invoice"}
2025-11-18 13:45:39,940 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:15:39.940615", "error": "Client.__init__() got an unexpected keyword argument 'proxies'", "agent": "schema_mapping_agent"}
2025-11-18 13:45:39,940 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:15:39.940615", "error": "Failed to initialize OpenAI client: Client.__init__() got an unexpected keyword argument 'proxies'", "agent": "schema_mapping_agent", "process_time": 0.0010006427764892578}
2025-11-18 13:45:39,940 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:15:39.940615", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 400, "process_time": 0.0020020008087158203}
2025-11-18 13:45:52,863 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:15:52.863102", "step": "postgres_connection_pool_closed", "agent": "schema_mapping_agent"}
2025-11-18 13:45:52,864 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:15:52.864091", "step": "application_shutdown", "agent": "schema_mapping_agent"}
2025-11-18 13:45:53,578 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:15:53.578628", "error": "Client.__init__() got an unexpected keyword argument 'proxies'", "agent": "schema_mapping_agent"}
2025-11-18 13:45:53,644 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:15:53.644106", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8202, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 13:45:53,644 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:15:53.644106", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini", "openai_api_key_set": true, "openai_api_key_length": 164}
2025-11-18 13:45:53,723 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:15:53.723633", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 13:45:53,727 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:15:53.727632", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:45:53,727 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:15:53.727632", "step": "database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:45:56,440 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:15:56.440310", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 13:45:56,440 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:15:56.440310", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "cc931bf75afb4407b07ee355eabe4a1d", "schema_type": "invoice"}
2025-11-18 13:45:56,440 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:15:56.440310", "step": "checking_openai_client", "agent": "schema_mapping_agent", "openai_available": true, "api_key_present": true, "api_key_length": 164, "api_key_preview": "sk-proj-U7..."}
2025-11-18 13:45:56,440 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:15:56.440310", "error": "Client.__init__() got an unexpected keyword argument 'proxies'", "agent": "schema_mapping_agent"}
2025-11-18 13:45:56,441 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:15:56.441534", "error": "Failed to initialize OpenAI client: Client.__init__() got an unexpected keyword argument 'proxies'", "agent": "schema_mapping_agent", "process_time": 0.0012242794036865234}
2025-11-18 13:45:56,441 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:15:56.441534", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 400, "process_time": 0.0022237300872802734}
2025-11-18 13:46:04,252 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:16:04.252570", "step": "postgres_connection_pool_closed", "agent": "schema_mapping_agent"}
2025-11-18 13:46:04,253 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:16:04.253570", "step": "application_shutdown", "agent": "schema_mapping_agent"}
2025-11-18 13:46:04,965 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:16:04.965298", "error": "Client.__init__() got an unexpected keyword argument 'proxies'", "agent": "schema_mapping_agent"}
2025-11-18 13:46:05,043 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:16:05.043811", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8202, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 13:46:05,043 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:16:05.043811", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini", "openai_api_key_set": true, "openai_api_key_length": 164}
2025-11-18 13:46:05,210 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:16:05.210920", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 13:46:05,212 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:16:05.212919", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:46:05,212 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:16:05.212919", "step": "database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:46:47,063 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:16:47.063591", "step": "postgres_connection_pool_closed", "agent": "schema_mapping_agent"}
2025-11-18 13:46:47,063 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:16:47.063591", "step": "application_shutdown", "agent": "schema_mapping_agent"}
2025-11-18 13:46:47,948 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:16:47.948835", "error": "Client.__init__() got an unexpected keyword argument 'proxies'", "agent": "schema_mapping_agent"}
2025-11-18 13:46:48,038 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:16:48.038306", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8202, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 13:46:48,038 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:16:48.038306", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini", "openai_api_key_set": true, "openai_api_key_length": 164}
2025-11-18 13:46:48,116 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:16:48.116050", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 13:46:48,119 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:16:48.119049", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:46:48,119 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:16:48.119049", "step": "database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:46:49,041 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:16:49.041694", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 13:46:49,042 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:16:49.041694", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "d37b2d02cbd04d54b312179dfc2e1850", "schema_type": "invoice"}
2025-11-18 13:46:49,042 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:16:49.042694", "step": "checking_openai_client", "agent": "schema_mapping_agent", "openai_available": true, "api_key_present": true, "api_key_length": 164, "api_key_preview": "sk-proj-U7..."}
2025-11-18 13:46:49,042 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:16:49.042694", "error": "Client.__init__() got an unexpected keyword argument 'proxies'", "agent": "schema_mapping_agent"}
2025-11-18 13:46:49,042 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:16:49.042694", "error": "Failed to initialize OpenAI client: Client.__init__() got an unexpected keyword argument 'proxies'", "agent": "schema_mapping_agent", "process_time": 0.00099945068359375}
2025-11-18 13:46:49,042 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:16:49.042694", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 400, "process_time": 0.00099945068359375}
2025-11-18 13:47:04,082 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:17:04.082379", "step": "postgres_connection_pool_closed", "agent": "schema_mapping_agent"}
2025-11-18 13:47:04,082 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:17:04.082379", "step": "application_shutdown", "agent": "schema_mapping_agent"}
2025-11-18 13:47:04,876 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:17:04.876125", "error": "Client.__init__() got an unexpected keyword argument 'proxies'", "agent": "schema_mapping_agent"}
2025-11-18 13:47:04,945 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:17:04.944813", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8202, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 13:47:04,945 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:17:04.945813", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini", "openai_api_key_set": true, "openai_api_key_length": 164}
2025-11-18 13:47:05,021 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:17:05.021025", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 13:47:05,024 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:17:05.024015", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:47:05,024 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:17:05.024015", "step": "database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:47:10,414 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:17:10.414541", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 13:47:10,414 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:17:10.414541", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "caeb8d9e2a01474392698ab0dccf32ff", "schema_type": "invoice"}
2025-11-18 13:47:10,415 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:17:10.415543", "step": "checking_openai_client", "agent": "schema_mapping_agent", "openai_available": true, "api_key_present": true, "api_key_length": 164, "api_key_preview": "sk-proj-U7..."}
2025-11-18 13:47:10,415 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:17:10.415543", "error": "Client.__init__() got an unexpected keyword argument 'proxies'", "agent": "schema_mapping_agent"}
2025-11-18 13:47:10,415 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:17:10.415543", "error": "Failed to initialize OpenAI client: Client.__init__() got an unexpected keyword argument 'proxies'", "agent": "schema_mapping_agent", "process_time": 0.001001596450805664}
2025-11-18 13:47:10,416 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:17:10.416542", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 400, "process_time": 0.003008127212524414}
2025-11-18 13:47:25,756 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:17:25.756589", "step": "postgres_connection_pool_closed", "agent": "schema_mapping_agent"}
2025-11-18 13:47:25,756 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:17:25.756589", "step": "application_shutdown", "agent": "schema_mapping_agent"}
2025-11-18 13:47:26,549 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:17:26.549181", "error": "Client.__init__() got an unexpected keyword argument 'proxies'", "agent": "schema_mapping_agent"}
2025-11-18 13:47:26,616 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:17:26.616782", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8202, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 13:47:26,616 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:17:26.616782", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini", "openai_api_key_set": true, "openai_api_key_length": 164}
2025-11-18 13:47:26,699 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:17:26.699815", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 13:47:26,703 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:17:26.703290", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:47:26,703 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:17:26.703290", "step": "database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:47:27,418 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:17:27.418861", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 13:47:27,418 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:17:27.418861", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "d349f19efe6f4ce9ae30ee0a7303223e", "schema_type": "invoice"}
2025-11-18 13:47:27,418 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:17:27.418861", "step": "checking_openai_client", "agent": "schema_mapping_agent", "openai_available": true, "api_key_present": true, "api_key_length": 164, "api_key_preview": "sk-proj-U7..."}
2025-11-18 13:47:27,419 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:17:27.419869", "error": "Client.__init__() got an unexpected keyword argument 'proxies'", "agent": "schema_mapping_agent", "error_type": "TypeError"}
2025-11-18 13:47:27,419 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:17:27.419869", "error": "OpenAI client initialization failed due to proxy configuration. Please check your HTTP_PROXY/HTTPS_PROXY environment variables or update the OpenAI library.", "agent": "schema_mapping_agent", "process_time": 0.0010080337524414062}
2025-11-18 13:47:27,420 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:17:27.420870", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 400, "process_time": 0.003509044647216797}
2025-11-18 13:47:48,743 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:17:48.743244", "step": "postgres_connection_pool_closed", "agent": "schema_mapping_agent"}
2025-11-18 13:47:48,743 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:17:48.743244", "step": "application_shutdown", "agent": "schema_mapping_agent"}
2025-11-18 13:48:09,707 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:18:09.707388", "step": "openai_client_initialized", "agent": "schema_mapping_agent", "model": "gpt-4o-mini", "status": "success", "api_key_length": 164}
2025-11-18 13:48:09,768 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:18:09.768460", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8202, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 13:48:09,768 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:18:09.768460", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini", "openai_api_key_set": true, "openai_api_key_length": 164}
2025-11-18 13:48:09,831 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:18:09.831978", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 13:48:09,834 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:18:09.834976", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:48:09,834 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:18:09.834976", "step": "database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:48:11,523 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:18:11.523175", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 13:48:11,524 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:18:11.524176", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "6629e9f86cca43b7b936dbac1da5074c", "schema_type": "invoice"}
2025-11-18 13:48:27,555 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:18:27.555028", "step": "schema_extraction_completed", "agent": "schema_mapping_agent", "document_id": "6629e9f86cca43b7b936dbac1da5074c", "status": "success"}
2025-11-18 13:48:27,558 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:18:27.558019", "step": "schema_validation_completed", "agent": "schema_mapping_agent", "document_id": "validation_document", "is_valid": false}
2025-11-18 13:48:27,564 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:18:27.564020", "error": "invalid input for query argument $2: '31/03/2020' ('str' object has no attribute 'toordinal')", "agent": "schema_mapping_agent", "document_id": "6629e9f86cca43b7b936dbac1da5074c"}
2025-11-18 13:48:27,564 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:18:27.564020", "error": "invalid input for query argument $2: '31/03/2020' ('str' object has no attribute 'toordinal')", "agent": "schema_mapping_agent", "document_id": "6629e9f86cca43b7b936dbac1da5074c"}
2025-11-18 13:48:27,564 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:18:27.564020", "step": "schema_mapping_completed", "agent": "schema_mapping_agent", "document_id": "6629e9f86cca43b7b936dbac1da5074c", "is_valid": false, "process_time": 16.04084610939026}
2025-11-18 13:48:27,565 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:18:27.565018", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 200, "process_time": 16.042845249176025}
2025-11-18 13:57:34,338 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:27:34.338684", "step": "postgres_connection_pool_closed", "agent": "schema_mapping_agent"}
2025-11-18 13:57:34,339 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:27:34.339682", "step": "application_shutdown", "agent": "schema_mapping_agent"}
2025-11-18 13:57:35,988 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:27:35.988331", "step": "openai_client_initialized", "agent": "schema_mapping_agent", "model": "gpt-4o-mini", "status": "success", "api_key_length": 164}
2025-11-18 13:57:38,632 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:27:38.632154", "step": "openai_client_initialized", "agent": "schema_mapping_agent", "model": "gpt-4o-mini", "status": "success", "api_key_length": 164}
2025-11-18 13:57:39,864 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:27:39.864548", "step": "openai_client_initialized", "agent": "schema_mapping_agent", "model": "gpt-4o-mini", "status": "success", "api_key_length": 164}
2025-11-18 13:58:44,602 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:28:44.602241", "step": "openai_client_initialized", "agent": "schema_mapping_agent", "model": "gpt-4o-mini", "status": "success", "api_key_length": 164}
2025-11-18 13:58:45,564 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:28:45.564204", "step": "gemini_service_initialized", "agent": "schema_mapping_agent", "model": "gemini-pro"}
2025-11-18 13:58:45,574 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:28:45.574205", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8202, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 13:58:45,574 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:28:45.574205", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini", "openai_api_key_set": true, "openai_api_key_length": 164}
2025-11-18 13:58:45,642 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:28:45.642717", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 13:58:45,646 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:28:45.646723", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:58:45,646 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:28:45.646723", "step": "database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 13:58:47,618 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:28:47.618870", "step": "request_completed", "agent": "schema_mapping_agent", "method": "GET", "url": "http://localhost:8202/docs", "status_code": 200, "process_time": 0.0}
2025-11-18 13:58:47,780 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:28:47.780124", "step": "request_completed", "agent": "schema_mapping_agent", "method": "GET", "url": "http://localhost:8202/openapi.json", "status_code": 200, "process_time": 0.01599907875061035}
2025-11-18 13:59:00,124 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:29:00.123650", "step": "gemini_schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/upload", "client": "127.0.0.1", "filename": "oub_GST_Invoice_Format.png", "content_type": "image/png"}
2025-11-18 13:59:00,671 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:29:00.671235", "error": "400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]", "agent": "schema_mapping_agent", "process_time": 0.5475857257843018}
2025-11-18 13:59:00,672 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:29:00.672735", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/upload", "status_code": 500, "process_time": 0.5523967742919922}
2025-11-18 14:00:42,988 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:30:42.988894", "step": "gemini_schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/upload", "client": "127.0.0.1", "filename": "oub_GST_Invoice_Format.png", "content_type": "image/png"}
2025-11-18 14:00:43,187 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:30:43.187142", "error": "400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]", "agent": "schema_mapping_agent", "process_time": 0.19824790954589844}
2025-11-18 14:00:43,188 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:30:43.188145", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/upload", "status_code": 500, "process_time": 0.20025205612182617}
2025-11-18 14:08:44,615 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:38:44.615861", "step": "postgres_connection_pool_closed", "agent": "schema_mapping_agent"}
2025-11-18 14:08:44,615 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:38:44.615861", "step": "application_shutdown", "agent": "schema_mapping_agent"}
2025-11-18 14:08:49,737 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:38:49.737994", "step": "openai_client_initialized", "agent": "schema_mapping_agent", "model": "gpt-4o-mini", "status": "success", "api_key_length": 164}
2025-11-18 14:08:50,454 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:38:50.454464", "step": "gemini_service_initialized", "agent": "schema_mapping_agent", "model": "gemini-pro"}
2025-11-18 14:08:50,467 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:38:50.467563", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8202, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 14:08:50,467 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:38:50.467563", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini", "openai_api_key_set": true, "openai_api_key_length": 164}
2025-11-18 14:08:50,537 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:38:50.537612", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 14:08:50,540 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:38:50.540611", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 14:08:50,540 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:38:50.540611", "step": "database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 14:08:52,117 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:38:52.117533", "step": "gemini_schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/upload", "client": "127.0.0.1", "filename": "oub_GST_Invoice_Format.png", "content_type": "image/png"}
2025-11-18 14:08:52,653 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:38:52.653285", "error": "400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]", "agent": "schema_mapping_agent", "process_time": 0.5357518196105957}
2025-11-18 14:08:52,654 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:38:52.654370", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/upload", "status_code": 500, "process_time": 0.5378470420837402}
2025-11-18 14:09:51,548 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:39:51.548345", "step": "postgres_connection_pool_closed", "agent": "schema_mapping_agent"}
2025-11-18 14:09:51,548 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:39:51.548345", "step": "application_shutdown", "agent": "schema_mapping_agent"}
2025-11-18 14:09:54,884 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:39:54.884180", "step": "openai_client_initialized", "agent": "schema_mapping_agent", "model": "gpt-4o-mini", "status": "success", "api_key_length": 164}
2025-11-18 14:09:55,310 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:39:55.310082", "step": "gemini_service_initialized", "agent": "schema_mapping_agent", "model": "gemini-pro"}
2025-11-18 14:09:55,322 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:39:55.322083", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8202, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 14:09:55,322 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:39:55.322083", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini", "openai_api_key_set": true, "openai_api_key_length": 164}
2025-11-18 14:09:55,484 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:39:55.484670", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 14:09:55,487 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:39:55.487669", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 14:09:55,487 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:39:55.487669", "step": "database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 14:09:57,906 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:39:57.906062", "step": "postgres_connection_pool_closed", "agent": "schema_mapping_agent"}
2025-11-18 14:09:57,906 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:39:57.906062", "step": "application_shutdown", "agent": "schema_mapping_agent"}
2025-11-18 14:10:03,438 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:40:03.438386", "step": "openai_client_initialized", "agent": "schema_mapping_agent", "model": "gpt-4o-mini", "status": "success", "api_key_length": 164}
2025-11-18 14:10:03,839 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:40:03.839462", "step": "gemini_service_initialized", "agent": "schema_mapping_agent", "model": "gemini-pro"}
2025-11-18 14:10:03,848 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:40:03.848469", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8202, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 14:10:03,848 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:40:03.848469", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini", "openai_api_key_set": true, "openai_api_key_length": 164}
2025-11-18 14:10:03,915 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:40:03.915015", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 14:10:03,919 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:40:03.919019", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 14:10:03,919 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:40:03.919019", "step": "database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 14:10:07,611 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:40:07.611492", "step": "gemini_schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/upload", "client": "127.0.0.1", "filename": "oub_GST_Invoice_Format.png", "content_type": "image/png"}
2025-11-18 14:10:08,104 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:40:08.103192", "error": "400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]", "agent": "schema_mapping_agent", "process_time": 0.4917001724243164}
2025-11-18 14:10:08,104 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:40:08.104186", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/upload", "status_code": 500, "process_time": 0.4937012195587158}
2025-11-18 14:11:21,033 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:41:21.033245", "step": "postgres_connection_pool_closed", "agent": "schema_mapping_agent"}
2025-11-18 14:11:21,034 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:41:21.034246", "step": "application_shutdown", "agent": "schema_mapping_agent"}
2025-11-18 14:11:24,217 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:41:24.217006", "step": "openai_client_initialized", "agent": "schema_mapping_agent", "model": "gpt-4o-mini", "status": "success", "api_key_length": 164}
2025-11-18 14:11:24,669 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:41:24.669163", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8202, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 14:11:24,669 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:41:24.669163", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini", "openai_api_key_set": true, "openai_api_key_length": 164}
2025-11-18 14:11:24,730 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:41:24.729326", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 14:11:24,732 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:41:24.732326", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 14:11:24,732 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:41:24.732326", "step": "database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 14:11:26,698 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:41:26.698293", "step": "gemini_schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/upload", "client": "127.0.0.1", "filename": "oub_GST_Invoice_Format.png", "content_type": "image/png"}
2025-11-18 14:11:26,699 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:41:26.699297", "step": "gemini_client_initializing", "agent": "schema_mapping_agent", "model": "gemini-pro", "api_key_length": 39, "api_key_preview": "AIzaSyBFBQ..."}
2025-11-18 14:11:26,699 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:41:26.699297", "step": "gemini_client_initialized", "agent": "schema_mapping_agent", "model": "gemini-pro", "status": "success"}
2025-11-18 14:11:27,159 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:41:27.159232", "error": "Gemini API key error: 400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]. Please verify your GEMINI_API_KEY in the .env file is valid and not expired.", "agent": "schema_mapping_agent", "process_time": 0.4609382152557373}
2025-11-18 14:11:27,160 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:41:27.160226", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/upload", "status_code": 500, "process_time": 0.46293067932128906}
2025-11-18 14:11:35,722 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:41:35.722182", "step": "postgres_connection_pool_closed", "agent": "schema_mapping_agent"}
2025-11-18 14:11:35,722 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:41:35.722182", "step": "application_shutdown", "agent": "schema_mapping_agent"}
2025-11-18 14:11:38,993 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:41:38.993927", "step": "openai_client_initialized", "agent": "schema_mapping_agent", "model": "gpt-4o-mini", "status": "success", "api_key_length": 164}
2025-11-18 14:11:39,508 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:41:39.508450", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8202, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 14:11:39,508 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:41:39.508450", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini", "openai_api_key_set": true, "openai_api_key_length": 164}
2025-11-18 14:11:39,573 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:41:39.573451", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 14:11:39,575 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:41:39.575448", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 14:11:39,575 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:41:39.575448", "step": "database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 14:11:39,581 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:41:39.581906", "step": "gemini_schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/upload", "client": "127.0.0.1", "filename": "oub_GST_Invoice_Format.png", "content_type": "image/png"}
2025-11-18 14:11:39,581 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:41:39.581906", "step": "gemini_client_initializing", "agent": "schema_mapping_agent", "model": "gemini-pro", "api_key_length": 39, "api_key_preview": "AIzaSyBFBQ..."}
2025-11-18 14:11:39,581 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:41:39.581906", "step": "gemini_client_initialized", "agent": "schema_mapping_agent", "model": "gemini-pro", "status": "success"}
2025-11-18 14:11:39,989 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T08:41:39.989031", "error": "Gemini API key error: 400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]. Please verify your GEMINI_API_KEY in the .env file is valid and not expired.", "agent": "schema_mapping_agent", "process_time": 0.40712547302246094}
2025-11-18 14:11:39,990 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T08:41:39.990032", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/upload", "status_code": 500, "process_time": 0.409132719039917}
2025-11-18 17:35:18,240 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:05:18.239649", "step": "gemini_schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/upload", "client": "127.0.0.1", "filename": "oub_GST_Invoice_Format.png", "content_type": "image/png"}
2025-11-18 17:35:18,830 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T12:05:18.830162", "error": "Gemini API key error: 400 API key expired. Please renew the API key. [reason: \"API_KEY_INVALID\"\ndomain: \"googleapis.com\"\nmetadata {\n  key: \"service\"\n  value: \"generativelanguage.googleapis.com\"\n}\n, locale: \"en-US\"\nmessage: \"API key expired. Please renew the API key.\"\n]. Please verify your GEMINI_API_KEY in the .env file is valid and not expired.", "agent": "schema_mapping_agent", "process_time": 0.5925123691558838}
2025-11-18 17:35:18,833 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:05:18.833160", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/upload", "status_code": 500, "process_time": 0.6332051753997803}
2025-11-18 17:42:31,138 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:12:31.138101", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 17:42:31,143 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:12:31.143094", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "c94cd7faf7744c7f883a8a56edfcd728", "schema_type": "invoice"}
2025-11-18 17:42:44,577 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:12:44.577475", "step": "schema_extraction_completed", "agent": "schema_mapping_agent", "document_id": "c94cd7faf7744c7f883a8a56edfcd728", "status": "success"}
2025-11-18 17:42:44,584 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:12:44.584150", "step": "schema_validation_completed", "agent": "schema_mapping_agent", "document_id": "validation_document", "is_valid": false}
2025-11-18 17:42:44,753 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T12:12:44.753937", "error": "invalid input for query argument $2: '31/03/2020' ('str' object has no attribute 'toordinal')", "agent": "schema_mapping_agent", "document_id": "c94cd7faf7744c7f883a8a56edfcd728"}
2025-11-18 17:42:44,754 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T12:12:44.754943", "error": "invalid input for query argument $2: '31/03/2020' ('str' object has no attribute 'toordinal')", "agent": "schema_mapping_agent", "document_id": "c94cd7faf7744c7f883a8a56edfcd728"}
2025-11-18 17:42:44,755 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:12:44.755923", "step": "schema_mapping_completed", "agent": "schema_mapping_agent", "document_id": "c94cd7faf7744c7f883a8a56edfcd728", "is_valid": false, "process_time": 13.61782169342041}
2025-11-18 17:42:44,757 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:12:44.757923", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 200, "process_time": 13.635816812515259}
2025-11-18 18:17:13,062 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:47:13.061503", "step": "request_completed", "agent": "schema_mapping_agent", "method": "GET", "url": "http://localhost:8202/docs", "status_code": 200, "process_time": 0.00754094123840332}
2025-11-18 18:17:13,288 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:47:13.288486", "step": "request_completed", "agent": "schema_mapping_agent", "method": "GET", "url": "http://localhost:8202/openapi.json", "status_code": 200, "process_time": 0.06553196907043457}
2025-11-18 18:17:21,148 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:47:21.148513", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 18:17:21,148 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:47:21.148513", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "5f5ce156e3f2436d8330b4b2f8568042", "schema_type": "invoice"}
2025-11-18 18:17:31,704 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:47:31.704430", "step": "schema_extraction_completed", "agent": "schema_mapping_agent", "document_id": "5f5ce156e3f2436d8330b4b2f8568042", "status": "success"}
2025-11-18 18:17:31,705 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:47:31.705430", "step": "schema_validation_completed", "agent": "schema_mapping_agent", "document_id": "validation_document", "is_valid": false}
2025-11-18 18:17:31,780 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T12:47:31.780988", "error": "invalid input for query argument $2: '04-Mar-2020' ('str' object has no attribute 'toordinal')", "agent": "schema_mapping_agent", "document_id": "5f5ce156e3f2436d8330b4b2f8568042"}
2025-11-18 18:17:31,780 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T12:47:31.780988", "error": "invalid input for query argument $2: '04-Mar-2020' ('str' object has no attribute 'toordinal')", "agent": "schema_mapping_agent", "document_id": "5f5ce156e3f2436d8330b4b2f8568042"}
2025-11-18 18:17:31,780 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:47:31.780988", "step": "schema_mapping_completed", "agent": "schema_mapping_agent", "document_id": "5f5ce156e3f2436d8330b4b2f8568042", "is_valid": false, "process_time": 10.632475137710571}
2025-11-18 18:17:31,781 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:47:31.781986", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 200, "process_time": 10.637472867965698}
2025-11-18 18:25:09,265 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:55:09.265374", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 18:25:09,268 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:55:09.268374", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "a2002f1ba8fe42e4bab5c76fdf0b2256", "schema_type": "invoice"}
2025-11-18 18:25:18,479 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:55:18.479186", "step": "schema_extraction_completed", "agent": "schema_mapping_agent", "document_id": "a2002f1ba8fe42e4bab5c76fdf0b2256", "status": "success"}
2025-11-18 18:25:18,479 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:55:18.479186", "step": "schema_validation_completed", "agent": "schema_mapping_agent", "document_id": "validation_document", "is_valid": false}
2025-11-18 18:25:18,546 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T12:55:18.546119", "error": "invalid input for query argument $2: '04-Mar-2020' ('str' object has no attribute 'toordinal')", "agent": "schema_mapping_agent", "document_id": "a2002f1ba8fe42e4bab5c76fdf0b2256"}
2025-11-18 18:25:18,546 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T12:55:18.546119", "error": "invalid input for query argument $2: '04-Mar-2020' ('str' object has no attribute 'toordinal')", "agent": "schema_mapping_agent", "document_id": "a2002f1ba8fe42e4bab5c76fdf0b2256"}
2025-11-18 18:25:18,546 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:55:18.546119", "step": "schema_mapping_completed", "agent": "schema_mapping_agent", "document_id": "a2002f1ba8fe42e4bab5c76fdf0b2256", "is_valid": false, "process_time": 9.280744552612305}
2025-11-18 18:25:18,547 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:55:18.547366", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 200, "process_time": 9.281991720199585}
2025-11-18 18:27:36,092 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:57:36.092813", "step": "postgres_connection_pool_closed", "agent": "schema_mapping_agent"}
2025-11-18 18:27:36,093 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:57:36.093814", "step": "application_shutdown", "agent": "schema_mapping_agent"}
2025-11-18 18:27:39,739 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:57:39.739044", "step": "openai_client_initialized", "agent": "schema_mapping_agent", "model": "gpt-4o-mini", "status": "success", "api_key_length": 164}
2025-11-18 18:27:39,819 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:57:39.819472", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8202, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 18:27:39,819 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:57:39.819472", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini", "openai_api_key_set": true, "openai_api_key_length": 164}
2025-11-18 18:27:39,881 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:57:39.881478", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 18:27:39,889 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:57:39.888471", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 18:27:39,889 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T12:57:39.889474", "step": "database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 18:32:07,366 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:02:07.366609", "step": "postgres_connection_pool_closed", "agent": "schema_mapping_agent"}
2025-11-18 18:32:07,366 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:02:07.366609", "step": "application_shutdown", "agent": "schema_mapping_agent"}
2025-11-18 18:32:08,571 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:02:08.571640", "step": "openai_client_initialized", "agent": "schema_mapping_agent", "model": "gpt-4o-mini", "status": "success", "api_key_length": 164}
2025-11-18 18:33:15,423 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:15.422392", "step": "openai_client_initialized", "agent": "schema_mapping_agent", "model": "gpt-4o-mini", "status": "success", "api_key_length": 164}
2025-11-18 18:33:17,512 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:17.512455", "step": "mongodb_connection_attempt", "agent": "schema_mapping_agent", "uri": "mongodb://localhost:27017/", "database": "DocumentAi", "collection": "schema_mapping"}
2025-11-18 18:33:17,541 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:17.541459", "step": "mongodb_connected", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 18:33:17,548 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:17.548457", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8202, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 18:33:17,548 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:17.548457", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini", "openai_api_key_set": true, "openai_api_key_length": 164}
2025-11-18 18:33:17,628 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:17.628560", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 18:33:17,631 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:17.631555", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 18:33:17,632 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:17.632553", "step": "postgres_database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 18:33:17,632 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:17.632553", "step": "mongodb_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 18:33:23,036 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:23.036891", "step": "postgres_connection_pool_closed", "agent": "schema_mapping_agent"}
2025-11-18 18:33:23,037 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:23.037892", "step": "mongodb_connection_closed", "agent": "schema_mapping_agent"}
2025-11-18 18:33:23,037 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:23.037892", "step": "application_shutdown", "agent": "schema_mapping_agent"}
2025-11-18 18:33:24,808 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:24.808602", "step": "openai_client_initialized", "agent": "schema_mapping_agent", "model": "gpt-4o-mini", "status": "success", "api_key_length": 164}
2025-11-18 18:33:24,941 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:24.941594", "step": "mongodb_connection_attempt", "agent": "schema_mapping_agent", "uri": "mongodb://localhost:27017/", "database": "DocumentAi", "collection": "schema_mapping"}
2025-11-18 18:33:24,952 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:24.952594", "step": "mongodb_connected", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 18:33:24,958 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:24.958596", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8202, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 18:33:24,958 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:24.958596", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini", "openai_api_key_set": true, "openai_api_key_length": 164}
2025-11-18 18:33:25,020 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:25.020124", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 18:33:25,022 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:25.022127", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 18:33:25,023 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:25.023124", "step": "postgres_database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 18:33:25,023 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:25.023124", "step": "mongodb_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 18:33:25,028 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:25.028130", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 18:33:25,029 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:25.028130", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "7c15326345ad4e64b5e4fe9ca2741d3e", "schema_type": "invoice"}
2025-11-18 18:33:35,287 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:35.287742", "step": "schema_extraction_completed", "agent": "schema_mapping_agent", "document_id": "7c15326345ad4e64b5e4fe9ca2741d3e", "status": "success"}
2025-11-18 18:33:35,290 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:35.290742", "step": "schema_extracted", "agent": "schema_mapping_agent", "document_id": "7c15326345ad4e64b5e4fe9ca2741d3e", "has_invoice_number": true, "has_vendor": true, "has_customer": true, "line_items_count": 2}
2025-11-18 18:33:35,290 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:35.290742", "step": "schema_validation_completed", "agent": "schema_mapping_agent", "document_id": "validation_document", "is_valid": false}
2025-11-18 18:33:35,291 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:35.291742", "step": "preparing_database_save", "agent": "schema_mapping_agent", "document_id": "7c15326345ad4e64b5e4fe9ca2741d3e", "customer_name": "Kevin Motors", "vendor_name": "GUJARAT FREIGHT TOOLS"}
2025-11-18 18:33:35,293 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T13:03:35.293743", "error": "invalid input for query argument $2: '04-Mar-2020' ('str' object has no attribute 'toordinal')", "agent": "schema_mapping_agent", "document_id": "7c15326345ad4e64b5e4fe9ca2741d3e"}
2025-11-18 18:33:35,294 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T13:03:35.294743", "error": "invalid input for query argument $2: '04-Mar-2020' ('str' object has no attribute 'toordinal')", "agent": "schema_mapping_agent", "process_time": 10.266612768173218}
2025-11-18 18:33:35,294 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:35.294743", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 500, "process_time": 10.267612934112549}
2025-11-18 18:33:50,961 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:50.961192", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 18:33:50,962 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:03:50.962192", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "f2242c4e07434b749b370d9a8641c5b6", "schema_type": "invoice"}
2025-11-18 18:34:01,187 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:04:01.187894", "step": "schema_extraction_completed", "agent": "schema_mapping_agent", "document_id": "f2242c4e07434b749b370d9a8641c5b6", "status": "success"}
2025-11-18 18:34:01,187 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:04:01.187894", "step": "schema_extracted", "agent": "schema_mapping_agent", "document_id": "f2242c4e07434b749b370d9a8641c5b6", "has_invoice_number": true, "has_vendor": true, "has_customer": true, "line_items_count": 2}
2025-11-18 18:34:01,187 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:04:01.187894", "step": "schema_validation_completed", "agent": "schema_mapping_agent", "document_id": "validation_document", "is_valid": false}
2025-11-18 18:34:01,188 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:04:01.188883", "step": "preparing_database_save", "agent": "schema_mapping_agent", "document_id": "f2242c4e07434b749b370d9a8641c5b6", "customer_name": "Kevin Motors", "vendor_name": "GUJARAT FREIGHT TOOLS"}
2025-11-18 18:34:01,189 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T13:04:01.189890", "error": "invalid input for query argument $2: '04-Mar-2020' ('str' object has no attribute 'toordinal')", "agent": "schema_mapping_agent", "document_id": "f2242c4e07434b749b370d9a8641c5b6"}
2025-11-18 18:34:01,189 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T13:04:01.189890", "error": "invalid input for query argument $2: '04-Mar-2020' ('str' object has no attribute 'toordinal')", "agent": "schema_mapping_agent", "process_time": 10.228698015213013}
2025-11-18 18:34:01,189 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:04:01.189890", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 500, "process_time": 10.22965145111084}
2025-11-18 18:35:18,719 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:18.719589", "step": "postgres_connection_pool_closed", "agent": "schema_mapping_agent"}
2025-11-18 18:35:18,720 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:18.720586", "step": "mongodb_connection_closed", "agent": "schema_mapping_agent"}
2025-11-18 18:35:18,720 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:18.720586", "step": "application_shutdown", "agent": "schema_mapping_agent"}
2025-11-18 18:35:20,201 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:20.201750", "step": "openai_client_initialized", "agent": "schema_mapping_agent", "model": "gpt-4o-mini", "status": "success", "api_key_length": 164}
2025-11-18 18:35:20,328 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:20.328028", "step": "mongodb_connection_attempt", "agent": "schema_mapping_agent", "uri": "mongodb://localhost:27017/", "database": "DocumentAi", "collection": "schema_mapping"}
2025-11-18 18:35:20,355 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:20.355028", "step": "mongodb_connected", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 18:35:20,360 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:20.360027", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8202, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 18:35:20,360 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:20.360027", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini", "openai_api_key_set": true, "openai_api_key_length": 164}
2025-11-18 18:35:20,430 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:20.430547", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 18:35:20,432 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:20.432547", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 18:35:20,433 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:20.433547", "step": "postgres_database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 18:35:20,433 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:20.433547", "step": "mongodb_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 18:35:25,499 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:25.499487", "step": "postgres_connection_pool_closed", "agent": "schema_mapping_agent"}
2025-11-18 18:35:25,500 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:25.500487", "step": "mongodb_connection_closed", "agent": "schema_mapping_agent"}
2025-11-18 18:35:25,500 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:25.500487", "step": "application_shutdown", "agent": "schema_mapping_agent"}
2025-11-18 18:35:26,918 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:26.918929", "step": "openai_client_initialized", "agent": "schema_mapping_agent", "model": "gpt-4o-mini", "status": "success", "api_key_length": 164}
2025-11-18 18:35:27,083 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:27.083452", "step": "mongodb_connection_attempt", "agent": "schema_mapping_agent", "uri": "mongodb://localhost:27017/", "database": "DocumentAi", "collection": "schema_mapping"}
2025-11-18 18:35:27,097 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:27.097964", "step": "mongodb_connected", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 18:35:27,108 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:27.108964", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8202, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 18:35:27,108 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:27.108964", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini", "openai_api_key_set": true, "openai_api_key_length": 164}
2025-11-18 18:35:27,189 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:27.189998", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 18:35:27,194 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:27.194511", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 18:35:27,209 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:27.209512", "step": "postgres_database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 18:35:27,218 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:27.218512", "step": "mongodb_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 18:35:27,441 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:27.441551", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 18:35:27,441 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:27.441551", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "a2d05938b66b42d6924dcc23b262a118", "schema_type": "invoice"}
2025-11-18 18:35:36,632 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:36.632478", "step": "schema_extraction_completed", "agent": "schema_mapping_agent", "document_id": "a2d05938b66b42d6924dcc23b262a118", "status": "success"}
2025-11-18 18:35:36,633 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:36.633478", "step": "schema_extracted", "agent": "schema_mapping_agent", "document_id": "a2d05938b66b42d6924dcc23b262a118", "has_invoice_number": true, "has_vendor": true, "has_customer": true, "line_items_count": 2}
2025-11-18 18:35:36,633 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:36.633478", "step": "schema_validation_completed", "agent": "schema_mapping_agent", "document_id": "validation_document", "is_valid": false}
2025-11-18 18:35:36,633 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:36.633478", "step": "preparing_database_save", "agent": "schema_mapping_agent", "document_id": "a2d05938b66b42d6924dcc23b262a118", "customer_name": "Kevin Motors", "vendor_name": "GUJARAT FREIGHT TOOLS"}
2025-11-18 18:35:36,638 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:36.638477", "step": "parsing_dates", "agent": "schema_mapping_agent", "invoice_date_raw": "04-Mar-2020", "invoice_date_parsed": "2020-03-04", "due_date_raw": "19-Mar-2020", "due_date_parsed": "2020-03-19"}
2025-11-18 18:35:36,641 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T13:05:36.641485", "error": "there is no unique or exclusion constraint matching the ON CONFLICT specification", "agent": "schema_mapping_agent", "document_id": "a2d05938b66b42d6924dcc23b262a118"}
2025-11-18 18:35:36,641 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T13:05:36.641485", "error": "there is no unique or exclusion constraint matching the ON CONFLICT specification", "agent": "schema_mapping_agent", "process_time": 9.20093297958374}
2025-11-18 18:35:36,642 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:05:36.642476", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 500, "process_time": 9.201924800872803}
2025-11-18 18:36:21,512 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:06:21.512458", "step": "postgres_connection_pool_closed", "agent": "schema_mapping_agent"}
2025-11-18 18:36:21,513 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:06:21.513456", "step": "mongodb_connection_closed", "agent": "schema_mapping_agent"}
2025-11-18 18:36:21,513 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:06:21.513456", "step": "application_shutdown", "agent": "schema_mapping_agent"}
2025-11-18 18:36:22,843 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:06:22.843708", "step": "openai_client_initialized", "agent": "schema_mapping_agent", "model": "gpt-4o-mini", "status": "success", "api_key_length": 164}
2025-11-18 18:36:22,986 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:06:22.986820", "step": "mongodb_connection_attempt", "agent": "schema_mapping_agent", "uri": "mongodb://localhost:27017/", "database": "DocumentAi", "collection": "schema_mapping"}
2025-11-18 18:36:23,006 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:06:23.006819", "step": "mongodb_connected", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 18:36:23,013 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:06:23.013820", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8202, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 18:36:23,014 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:06:23.014819", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini", "openai_api_key_set": true, "openai_api_key_length": 164}
2025-11-18 18:36:23,083 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:06:23.083811", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 18:36:23,086 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:06:23.086809", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 18:36:23,087 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:06:23.087809", "step": "postgres_database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 18:36:23,087 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:06:23.087809", "step": "mongodb_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 18:36:26,533 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:06:26.533343", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 18:36:26,533 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:06:26.533343", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "be0cc9d1d88a43dfaa1ab36646737c78", "schema_type": "invoice"}
2025-11-18 18:36:34,221 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:06:34.220354", "step": "schema_extraction_completed", "agent": "schema_mapping_agent", "document_id": "be0cc9d1d88a43dfaa1ab36646737c78", "status": "success"}
2025-11-18 18:36:34,222 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:06:34.222355", "step": "schema_extracted", "agent": "schema_mapping_agent", "document_id": "be0cc9d1d88a43dfaa1ab36646737c78", "has_invoice_number": true, "has_vendor": true, "has_customer": true, "line_items_count": 2}
2025-11-18 18:36:34,222 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:06:34.222355", "step": "schema_validation_completed", "agent": "schema_mapping_agent", "document_id": "validation_document", "is_valid": false}
2025-11-18 18:36:34,222 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:06:34.222355", "step": "preparing_database_save", "agent": "schema_mapping_agent", "document_id": "be0cc9d1d88a43dfaa1ab36646737c78", "customer_name": "Kevin Motors", "vendor_name": "GUJARAT FREIGHT TOOLS"}
2025-11-18 18:36:34,225 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:06:34.225353", "step": "parsing_dates", "agent": "schema_mapping_agent", "invoice_date_raw": "04-Mar-2020", "invoice_date_parsed": "2020-03-04", "due_date_raw": "19-Mar-2020", "due_date_parsed": "2020-03-19"}
2025-11-18 18:36:34,230 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:06:34.230355", "step": "invoice_inserted", "agent": "schema_mapping_agent", "invoice_id": 1, "invoice_number": "GST112020"}
2025-11-18 18:36:34,230 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:06:34.230355", "step": "saving_vendor_info", "agent": "schema_mapping_agent", "invoice_id": 1, "vendor_name": "GUJARAT FREIGHT TOOLS"}
2025-11-18 18:36:34,236 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:06:34.236867", "step": "vendor_info_saved", "agent": "schema_mapping_agent", "invoice_id": 1}
2025-11-18 18:36:34,236 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:06:34.236867", "step": "saving_customer_info", "agent": "schema_mapping_agent", "invoice_id": 1, "customer_name": "Kevin Motors", "customer_address": "Chandani Chok, New Delhi, Opposite\nStatue, New Delhi, Delhi - 110014"}
2025-11-18 18:36:34,238 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:06:34.238861", "step": "customer_info_saved", "agent": "schema_mapping_agent", "invoice_id": 1}
2025-11-18 18:36:34,250 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T13:06:34.250883", "error": "invalid input for query argument $7: [{'field': 'totals.grandTotal', 'issue':... (expected str, got list)", "agent": "schema_mapping_agent", "document_id": "be0cc9d1d88a43dfaa1ab36646737c78"}
2025-11-18 18:36:34,250 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T13:06:34.250883", "error": "invalid input for query argument $7: [{'field': 'totals.grandTotal', 'issue':... (expected str, got list)", "agent": "schema_mapping_agent", "process_time": 7.71754002571106}
2025-11-18 18:36:34,251 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:06:34.251891", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 500, "process_time": 7.720562696456909}
2025-11-18 18:38:06,393 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:08:06.393261", "step": "openai_client_initialized", "agent": "schema_mapping_agent", "model": "gpt-4o-mini", "status": "success", "api_key_length": 164}
2025-11-18 18:38:06,514 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:08:06.514774", "step": "mongodb_connection_attempt", "agent": "schema_mapping_agent", "uri": "mongodb://localhost:27017/", "database": "DocumentAi", "collection": "schema_mapping"}
2025-11-18 18:38:06,525 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:08:06.525789", "step": "mongodb_connected", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 18:38:06,529 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:08:06.529791", "step": "starting_schema_mapping_service", "agent": "schema_mapping_agent", "host": "0.0.0.0", "port": 8202, "debug": true, "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]"}
2025-11-18 18:38:06,530 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:08:06.530790", "step": "application_startup", "agent": "schema_mapping_agent", "app_name": "DocumentAI Schema Mapping Agent", "version": "1.0.0", "llm_model": "gpt-4o-mini", "openai_api_key_set": true, "openai_api_key_length": 164}
2025-11-18 18:38:06,594 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:08:06.594478", "step": "postgres_connection_pool_created", "agent": "schema_mapping_agent", "host": "localhost", "database": "invoice_db", "status": "success"}
2025-11-18 18:38:06,598 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:08:06.598479", "step": "database_tables_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 18:38:06,598 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:08:06.598479", "step": "postgres_database_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 18:38:06,599 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:08:06.599479", "step": "mongodb_initialized", "agent": "schema_mapping_agent", "status": "success"}
2025-11-18 18:38:08,490 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:08:08.490524", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 18:38:08,491 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:08:08.491524", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "1eb3cb18006741daaddecca4383ff3e5", "schema_type": "invoice"}
2025-11-18 18:38:17,193 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:08:17.193920", "step": "schema_extraction_completed", "agent": "schema_mapping_agent", "document_id": "1eb3cb18006741daaddecca4383ff3e5", "status": "success"}
2025-11-18 18:38:17,193 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:08:17.193920", "step": "schema_extracted", "agent": "schema_mapping_agent", "document_id": "1eb3cb18006741daaddecca4383ff3e5", "has_invoice_number": true, "has_vendor": true, "has_customer": true, "line_items_count": 2}
2025-11-18 18:38:17,193 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:08:17.193920", "step": "schema_validation_completed", "agent": "schema_mapping_agent", "document_id": "validation_document", "is_valid": false}
2025-11-18 18:38:17,193 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:08:17.193920", "step": "preparing_database_save", "agent": "schema_mapping_agent", "document_id": "1eb3cb18006741daaddecca4383ff3e5", "customer_name": "Kevin Motors", "vendor_name": "GUJARAT FREIGHT TOOLS"}
2025-11-18 18:38:17,196 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:08:17.196929", "step": "parsing_dates", "agent": "schema_mapping_agent", "invoice_date_raw": "04-Mar-2020", "invoice_date_parsed": "2020-03-04", "due_date_raw": "19-Mar-2020", "due_date_parsed": "2020-03-19"}
2025-11-18 18:38:17,200 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:08:17.200922", "step": "invoice_inserted", "agent": "schema_mapping_agent", "invoice_id": 2, "invoice_number": "GST112020"}
2025-11-18 18:38:17,200 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:08:17.200922", "step": "saving_vendor_info", "agent": "schema_mapping_agent", "invoice_id": 2, "vendor_name": "GUJARAT FREIGHT TOOLS"}
2025-11-18 18:38:17,202 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:08:17.202914", "step": "vendor_info_saved", "agent": "schema_mapping_agent", "invoice_id": 2}
2025-11-18 18:38:17,202 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:08:17.202914", "step": "saving_customer_info", "agent": "schema_mapping_agent", "invoice_id": 2, "customer_name": "Kevin Motors", "customer_address": "Chandani Chok, New Delhi, Opposite\nStatue, New Delhi, Delhi - 110014"}
2025-11-18 18:38:17,203 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:08:17.203913", "step": "customer_info_saved", "agent": "schema_mapping_agent", "invoice_id": 2}
2025-11-18 18:38:17,210 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:08:17.210913", "step": "invoice_saved_to_database", "agent": "schema_mapping_agent", "invoice_id": 2, "document_id": "1eb3cb18006741daaddecca4383ff3e5", "invoice_number": "GST112020"}
2025-11-18 18:38:17,212 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:08:17.212914", "step": "invoice_saved_to_postgres", "agent": "schema_mapping_agent", "invoice_id": 2, "document_id": "1eb3cb18006741daaddecca4383ff3e5"}
2025-11-18 18:38:17,213 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T13:08:17.213914", "error": "Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None", "agent": "schema_mapping_agent", "document_id": "1eb3cb18006741daaddecca4383ff3e5", "invoice_id": 2}
2025-11-18 18:38:17,213 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:08:17.213914", "step": "schema_mapping_completed", "agent": "schema_mapping_agent", "document_id": "1eb3cb18006741daaddecca4383ff3e5", "invoice_id": 2, "is_valid": false, "process_time": 8.723389387130737}
2025-11-18 18:38:17,213 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T13:08:17.213914", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 200, "process_time": 8.723389387130737}
2025-11-18 20:39:45,575 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:09:45.574400", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 20:39:45,586 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:09:45.586403", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "25e66359e0ef4c4eaf6953ebc7b34d4a", "schema_type": "invoice"}
2025-11-18 20:39:55,136 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:09:55.136178", "step": "schema_extraction_completed", "agent": "schema_mapping_agent", "document_id": "25e66359e0ef4c4eaf6953ebc7b34d4a", "status": "success"}
2025-11-18 20:39:55,139 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:09:55.139184", "step": "schema_extracted", "agent": "schema_mapping_agent", "document_id": "25e66359e0ef4c4eaf6953ebc7b34d4a", "has_invoice_number": true, "has_vendor": true, "has_customer": true, "line_items_count": 2}
2025-11-18 20:39:55,140 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:09:55.140202", "step": "schema_validation_completed", "agent": "schema_mapping_agent", "document_id": "validation_document", "is_valid": false}
2025-11-18 20:39:55,141 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:09:55.141186", "step": "preparing_database_save", "agent": "schema_mapping_agent", "document_id": "25e66359e0ef4c4eaf6953ebc7b34d4a", "customer_name": "Kevin Motors", "vendor_name": "GUJARAT FREIGHT TOOLS"}
2025-11-18 20:39:55,244 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:09:55.244933", "step": "parsing_dates", "agent": "schema_mapping_agent", "invoice_date_raw": "04-Mar-2020", "invoice_date_parsed": "2020-03-04", "due_date_raw": "19-Mar-2020", "due_date_parsed": "2020-03-19"}
2025-11-18 20:39:55,270 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:09:55.270627", "step": "invoice_updated", "agent": "schema_mapping_agent", "invoice_id": 2, "invoice_number": "GST112020"}
2025-11-18 20:39:55,270 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:09:55.270627", "step": "saving_vendor_info", "agent": "schema_mapping_agent", "invoice_id": 2, "vendor_name": "GUJARAT FREIGHT TOOLS"}
2025-11-18 20:39:55,274 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:09:55.274609", "step": "vendor_info_saved", "agent": "schema_mapping_agent", "invoice_id": 2}
2025-11-18 20:39:55,274 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:09:55.274609", "step": "saving_customer_info", "agent": "schema_mapping_agent", "invoice_id": 2, "customer_name": "Kevin Motors", "customer_address": "Chandani Chok, New Delhi, Opposite\nStatue, New Delhi, Delhi - 110014"}
2025-11-18 20:39:55,277 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:09:55.277156", "step": "customer_info_saved", "agent": "schema_mapping_agent", "invoice_id": 2}
2025-11-18 20:39:55,292 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:09:55.292191", "step": "invoice_saved_to_database", "agent": "schema_mapping_agent", "invoice_id": 2, "document_id": "25e66359e0ef4c4eaf6953ebc7b34d4a", "invoice_number": "GST112020"}
2025-11-18 20:39:55,297 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:09:55.297154", "step": "invoice_saved_to_postgres", "agent": "schema_mapping_agent", "invoice_id": 2, "document_id": "25e66359e0ef4c4eaf6953ebc7b34d4a"}
2025-11-18 20:39:55,299 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T15:09:55.298152", "error": "Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None", "agent": "schema_mapping_agent", "document_id": "25e66359e0ef4c4eaf6953ebc7b34d4a", "invoice_id": 2}
2025-11-18 20:39:55,299 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:09:55.299153", "step": "schema_mapping_completed", "agent": "schema_mapping_agent", "document_id": "25e66359e0ef4c4eaf6953ebc7b34d4a", "invoice_id": 2, "is_valid": false, "process_time": 9.725751161575317}
2025-11-18 20:39:55,301 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:09:55.301175", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 200, "process_time": 9.757094621658325}
2025-11-18 20:45:28,132 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:15:28.132619", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 20:45:28,133 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:15:28.133625", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "eef243bce63742738dc5a11d71d11363", "schema_type": "invoice"}
2025-11-18 20:45:38,346 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:15:38.346715", "step": "schema_extraction_completed", "agent": "schema_mapping_agent", "document_id": "eef243bce63742738dc5a11d71d11363", "status": "success"}
2025-11-18 20:45:38,346 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:15:38.346715", "step": "schema_extracted", "agent": "schema_mapping_agent", "document_id": "eef243bce63742738dc5a11d71d11363", "has_invoice_number": true, "has_vendor": true, "has_customer": true, "line_items_count": 2}
2025-11-18 20:45:38,346 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:15:38.346715", "step": "schema_validation_completed", "agent": "schema_mapping_agent", "document_id": "validation_document", "is_valid": false}
2025-11-18 20:45:38,347 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:15:38.347715", "step": "preparing_database_save", "agent": "schema_mapping_agent", "document_id": "eef243bce63742738dc5a11d71d11363", "customer_name": "Kevin Motors", "vendor_name": "GUJARAT FREIGHT TOOLS"}
2025-11-18 20:45:38,415 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:15:38.415716", "step": "parsing_dates", "agent": "schema_mapping_agent", "invoice_date_raw": "04-Mar-2020", "invoice_date_parsed": "2020-03-04", "due_date_raw": "19-Mar-2020", "due_date_parsed": "2020-03-19"}
2025-11-18 20:45:38,419 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:15:38.419719", "step": "invoice_updated", "agent": "schema_mapping_agent", "invoice_id": 2, "invoice_number": "GST112020"}
2025-11-18 20:45:38,420 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:15:38.420716", "step": "saving_vendor_info", "agent": "schema_mapping_agent", "invoice_id": 2, "vendor_name": "GUJARAT FREIGHT TOOLS"}
2025-11-18 20:45:38,421 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:15:38.421719", "step": "vendor_info_saved", "agent": "schema_mapping_agent", "invoice_id": 2}
2025-11-18 20:45:38,422 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:15:38.422718", "step": "saving_customer_info", "agent": "schema_mapping_agent", "invoice_id": 2, "customer_name": "Kevin Motors", "customer_address": "Chandani Chok, New Delhi, Opposite\nStatue, New Delhi, Delhi - 110014"}
2025-11-18 20:45:38,423 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:15:38.423725", "step": "customer_info_saved", "agent": "schema_mapping_agent", "invoice_id": 2}
2025-11-18 20:45:38,431 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:15:38.431724", "step": "invoice_saved_to_database", "agent": "schema_mapping_agent", "invoice_id": 2, "document_id": "eef243bce63742738dc5a11d71d11363", "invoice_number": "GST112020"}
2025-11-18 20:45:38,432 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:15:38.432723", "step": "invoice_saved_to_postgres", "agent": "schema_mapping_agent", "invoice_id": 2, "document_id": "eef243bce63742738dc5a11d71d11363"}
2025-11-18 20:45:38,433 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T15:15:38.433724", "error": "Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None", "agent": "schema_mapping_agent", "document_id": "eef243bce63742738dc5a11d71d11363", "invoice_id": 2}
2025-11-18 20:45:38,433 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:15:38.433724", "step": "schema_mapping_completed", "agent": "schema_mapping_agent", "document_id": "eef243bce63742738dc5a11d71d11363", "invoice_id": 2, "is_valid": false, "process_time": 10.30110502243042}
2025-11-18 20:45:38,434 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:15:38.434725", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 200, "process_time": 10.303103685379028}
2025-11-18 20:45:54,636 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:15:54.636609", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 20:45:54,640 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:15:54.640610", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "22f5088c80d74471bbafc565fae7758c", "schema_type": "invoice"}
2025-11-18 20:46:03,264 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:03.264140", "step": "schema_extraction_completed", "agent": "schema_mapping_agent", "document_id": "22f5088c80d74471bbafc565fae7758c", "status": "success"}
2025-11-18 20:46:03,264 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:03.264140", "step": "schema_extracted", "agent": "schema_mapping_agent", "document_id": "22f5088c80d74471bbafc565fae7758c", "has_invoice_number": true, "has_vendor": true, "has_customer": true, "line_items_count": 2}
2025-11-18 20:46:03,265 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:03.265138", "step": "schema_validation_completed", "agent": "schema_mapping_agent", "document_id": "validation_document", "is_valid": false}
2025-11-18 20:46:03,265 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:03.265138", "step": "preparing_database_save", "agent": "schema_mapping_agent", "document_id": "22f5088c80d74471bbafc565fae7758c", "customer_name": "Kevin Motors", "vendor_name": "GUJARAT FREIGHT TOOLS"}
2025-11-18 20:46:03,266 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:03.266139", "step": "parsing_dates", "agent": "schema_mapping_agent", "invoice_date_raw": "04-Mar-2020", "invoice_date_parsed": "2020-03-04", "due_date_raw": "19-Mar-2020", "due_date_parsed": "2020-03-19"}
2025-11-18 20:46:03,267 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:03.267142", "step": "invoice_updated", "agent": "schema_mapping_agent", "invoice_id": 2, "invoice_number": "GST112020"}
2025-11-18 20:46:03,268 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:03.268142", "step": "saving_vendor_info", "agent": "schema_mapping_agent", "invoice_id": 2, "vendor_name": "GUJARAT FREIGHT TOOLS"}
2025-11-18 20:46:03,269 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:03.269139", "step": "vendor_info_saved", "agent": "schema_mapping_agent", "invoice_id": 2}
2025-11-18 20:46:03,269 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:03.269139", "step": "saving_customer_info", "agent": "schema_mapping_agent", "invoice_id": 2, "customer_name": "Kevin Motors", "customer_address": "Chandani Chok, New Delhi, Opposite\nStatue, New Delhi, Delhi - 110014"}
2025-11-18 20:46:03,269 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:03.269139", "step": "customer_info_saved", "agent": "schema_mapping_agent", "invoice_id": 2}
2025-11-18 20:46:03,273 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:03.273140", "step": "invoice_saved_to_database", "agent": "schema_mapping_agent", "invoice_id": 2, "document_id": "22f5088c80d74471bbafc565fae7758c", "invoice_number": "GST112020"}
2025-11-18 20:46:03,274 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:03.274139", "step": "invoice_saved_to_postgres", "agent": "schema_mapping_agent", "invoice_id": 2, "document_id": "22f5088c80d74471bbafc565fae7758c"}
2025-11-18 20:46:03,275 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T15:16:03.275141", "error": "Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None", "agent": "schema_mapping_agent", "document_id": "22f5088c80d74471bbafc565fae7758c", "invoice_id": 2}
2025-11-18 20:46:03,275 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:03.275141", "step": "schema_mapping_completed", "agent": "schema_mapping_agent", "document_id": "22f5088c80d74471bbafc565fae7758c", "invoice_id": 2, "is_valid": false, "process_time": 8.638531923294067}
2025-11-18 20:46:03,276 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:03.276143", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 200, "process_time": 8.640540361404419}
2025-11-18 20:46:11,493 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:11.493074", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 20:46:11,493 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:11.493074", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "61b36d5377f84525b35a8dcb867ec146", "schema_type": "invoice"}
2025-11-18 20:46:20,778 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:20.778162", "step": "schema_extraction_completed", "agent": "schema_mapping_agent", "document_id": "61b36d5377f84525b35a8dcb867ec146", "status": "success"}
2025-11-18 20:46:20,778 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:20.778162", "step": "schema_extracted", "agent": "schema_mapping_agent", "document_id": "61b36d5377f84525b35a8dcb867ec146", "has_invoice_number": true, "has_vendor": true, "has_customer": true, "line_items_count": 2}
2025-11-18 20:46:20,779 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:20.779162", "step": "schema_validation_completed", "agent": "schema_mapping_agent", "document_id": "validation_document", "is_valid": false}
2025-11-18 20:46:20,779 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:20.779162", "step": "preparing_database_save", "agent": "schema_mapping_agent", "document_id": "61b36d5377f84525b35a8dcb867ec146", "customer_name": "Kevin Motors", "vendor_name": "GUJARAT FREIGHT TOOLS"}
2025-11-18 20:46:20,780 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:20.780177", "step": "parsing_dates", "agent": "schema_mapping_agent", "invoice_date_raw": "04-Mar-2020", "invoice_date_parsed": "2020-03-04", "due_date_raw": "19-Mar-2020", "due_date_parsed": "2020-03-19"}
2025-11-18 20:46:20,780 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:20.780177", "step": "invoice_updated", "agent": "schema_mapping_agent", "invoice_id": 2, "invoice_number": "GST112020"}
2025-11-18 20:46:20,780 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:20.780177", "step": "saving_vendor_info", "agent": "schema_mapping_agent", "invoice_id": 2, "vendor_name": "GUJARAT FREIGHT TOOLS"}
2025-11-18 20:46:20,781 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:20.781163", "step": "vendor_info_saved", "agent": "schema_mapping_agent", "invoice_id": 2}
2025-11-18 20:46:20,781 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:20.781163", "step": "saving_customer_info", "agent": "schema_mapping_agent", "invoice_id": 2, "customer_name": "Kevin Motors", "customer_address": "Chandani Chok, New Delhi, Opposite\nStatue, New Delhi, Delhi - 110014"}
2025-11-18 20:46:20,782 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:20.782162", "step": "customer_info_saved", "agent": "schema_mapping_agent", "invoice_id": 2}
2025-11-18 20:46:20,785 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:20.785173", "step": "invoice_saved_to_database", "agent": "schema_mapping_agent", "invoice_id": 2, "document_id": "61b36d5377f84525b35a8dcb867ec146", "invoice_number": "GST112020"}
2025-11-18 20:46:20,786 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:20.786163", "step": "invoice_saved_to_postgres", "agent": "schema_mapping_agent", "invoice_id": 2, "document_id": "61b36d5377f84525b35a8dcb867ec146"}
2025-11-18 20:46:20,786 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T15:16:20.786163", "error": "Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None", "agent": "schema_mapping_agent", "document_id": "61b36d5377f84525b35a8dcb867ec146", "invoice_id": 2}
2025-11-18 20:46:20,786 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:20.786163", "step": "schema_mapping_completed", "agent": "schema_mapping_agent", "document_id": "61b36d5377f84525b35a8dcb867ec146", "invoice_id": 2, "is_valid": false, "process_time": 9.293088912963867}
2025-11-18 20:46:20,786 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:20.786163", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 200, "process_time": 9.293088912963867}
2025-11-18 20:46:29,707 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:29.706754", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 20:46:29,707 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:29.707754", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "c62da5203e084620b3b7979138d1e0a1", "schema_type": "invoice"}
2025-11-18 20:46:38,300 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:38.300912", "step": "schema_extraction_completed", "agent": "schema_mapping_agent", "document_id": "c62da5203e084620b3b7979138d1e0a1", "status": "success"}
2025-11-18 20:46:38,301 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:38.301927", "step": "schema_extracted", "agent": "schema_mapping_agent", "document_id": "c62da5203e084620b3b7979138d1e0a1", "has_invoice_number": true, "has_vendor": true, "has_customer": true, "line_items_count": 2}
2025-11-18 20:46:38,301 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:38.301927", "step": "schema_validation_completed", "agent": "schema_mapping_agent", "document_id": "validation_document", "is_valid": false}
2025-11-18 20:46:38,301 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:38.301927", "step": "preparing_database_save", "agent": "schema_mapping_agent", "document_id": "c62da5203e084620b3b7979138d1e0a1", "customer_name": "Kevin Motors", "vendor_name": "GUJARAT FREIGHT TOOLS"}
2025-11-18 20:46:38,302 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:38.302831", "step": "parsing_dates", "agent": "schema_mapping_agent", "invoice_date_raw": "04-Mar-2020", "invoice_date_parsed": "2020-03-04", "due_date_raw": "19-Mar-2020", "due_date_parsed": "2020-03-19"}
2025-11-18 20:46:38,303 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:38.303832", "step": "invoice_updated", "agent": "schema_mapping_agent", "invoice_id": 2, "invoice_number": "GST112020"}
2025-11-18 20:46:38,303 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:38.303832", "step": "saving_vendor_info", "agent": "schema_mapping_agent", "invoice_id": 2, "vendor_name": "GUJARAT FREIGHT TOOLS"}
2025-11-18 20:46:38,303 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:38.303832", "step": "vendor_info_saved", "agent": "schema_mapping_agent", "invoice_id": 2}
2025-11-18 20:46:38,303 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:38.303832", "step": "saving_customer_info", "agent": "schema_mapping_agent", "invoice_id": 2, "customer_name": "Kevin Motors", "customer_address": "Chandani Chok, New Delhi, Opposite\nStatue, New Delhi, Delhi - 110014"}
2025-11-18 20:46:38,304 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:38.304880", "step": "customer_info_saved", "agent": "schema_mapping_agent", "invoice_id": 2}
2025-11-18 20:46:38,305 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:38.305830", "step": "invoice_saved_to_database", "agent": "schema_mapping_agent", "invoice_id": 2, "document_id": "c62da5203e084620b3b7979138d1e0a1", "invoice_number": "GST112020"}
2025-11-18 20:46:38,306 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:38.306831", "step": "invoice_saved_to_postgres", "agent": "schema_mapping_agent", "invoice_id": 2, "document_id": "c62da5203e084620b3b7979138d1e0a1"}
2025-11-18 20:46:38,306 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T15:16:38.306831", "error": "Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None", "agent": "schema_mapping_agent", "document_id": "c62da5203e084620b3b7979138d1e0a1", "invoice_id": 2}
2025-11-18 20:46:38,306 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:38.306831", "step": "schema_mapping_completed", "agent": "schema_mapping_agent", "document_id": "c62da5203e084620b3b7979138d1e0a1", "invoice_id": 2, "is_valid": false, "process_time": 8.600077152252197}
2025-11-18 20:46:38,307 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:16:38.307831", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 200, "process_time": 8.601077318191528}
2025-11-18 20:53:26,556 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:23:26.556830", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 20:53:26,556 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:23:26.556830", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "8204dc2c6b46476e91b3dffdd508cc0d", "schema_type": "invoice"}
2025-11-18 20:53:40,380 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:23:40.380853", "step": "schema_extraction_completed", "agent": "schema_mapping_agent", "document_id": "8204dc2c6b46476e91b3dffdd508cc0d", "status": "success"}
2025-11-18 20:53:40,381 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:23:40.381853", "step": "schema_extracted", "agent": "schema_mapping_agent", "document_id": "8204dc2c6b46476e91b3dffdd508cc0d", "has_invoice_number": true, "has_vendor": true, "has_customer": true, "line_items_count": 2}
2025-11-18 20:53:40,381 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:23:40.381853", "step": "schema_validation_completed", "agent": "schema_mapping_agent", "document_id": "validation_document", "is_valid": false}
2025-11-18 20:53:40,381 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:23:40.381853", "step": "preparing_database_save", "agent": "schema_mapping_agent", "document_id": "8204dc2c6b46476e91b3dffdd508cc0d", "customer_name": "Kevin Motors", "vendor_name": "GUJARAT FREIGHT TOOLS"}
2025-11-18 20:53:40,446 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:23:40.446501", "step": "parsing_dates", "agent": "schema_mapping_agent", "invoice_date_raw": "04-Mar-2020", "invoice_date_parsed": "2020-03-04", "due_date_raw": "19-Mar-2020", "due_date_parsed": "2020-03-19"}
2025-11-18 20:53:40,450 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:23:40.450515", "step": "invoice_updated", "agent": "schema_mapping_agent", "invoice_id": 2, "invoice_number": "GST112020"}
2025-11-18 20:53:40,450 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:23:40.450515", "step": "saving_vendor_info", "agent": "schema_mapping_agent", "invoice_id": 2, "vendor_name": "GUJARAT FREIGHT TOOLS"}
2025-11-18 20:53:40,451 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:23:40.451509", "step": "vendor_info_saved", "agent": "schema_mapping_agent", "invoice_id": 2}
2025-11-18 20:53:40,451 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:23:40.451509", "step": "saving_customer_info", "agent": "schema_mapping_agent", "invoice_id": 2, "customer_name": "Kevin Motors", "customer_address": "Chandani Chok, New Delhi, Opposite\nStatue, New Delhi, Delhi - 110014"}
2025-11-18 20:53:40,452 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:23:40.452500", "step": "customer_info_saved", "agent": "schema_mapping_agent", "invoice_id": 2}
2025-11-18 20:53:40,456 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:23:40.456590", "step": "invoice_saved_to_database", "agent": "schema_mapping_agent", "invoice_id": 2, "document_id": "8204dc2c6b46476e91b3dffdd508cc0d", "invoice_number": "GST112020"}
2025-11-18 20:53:40,458 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:23:40.458587", "step": "invoice_saved_to_postgres", "agent": "schema_mapping_agent", "invoice_id": 2, "document_id": "8204dc2c6b46476e91b3dffdd508cc0d"}
2025-11-18 20:53:40,458 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T15:23:40.458587", "error": "Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None", "agent": "schema_mapping_agent", "document_id": "8204dc2c6b46476e91b3dffdd508cc0d", "invoice_id": 2}
2025-11-18 20:53:40,458 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:23:40.458587", "step": "schema_mapping_completed", "agent": "schema_mapping_agent", "document_id": "8204dc2c6b46476e91b3dffdd508cc0d", "invoice_id": 2, "is_valid": false, "process_time": 13.90274715423584}
2025-11-18 20:53:40,459 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:23:40.459582", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 200, "process_time": 13.90374207496643}
2025-11-18 20:53:52,569 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:23:52.568083", "step": "schema_mapping_request_received", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "client": "127.0.0.1", "schema_type": "invoice"}
2025-11-18 20:53:52,589 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:23:52.589081", "step": "schema_extraction_started", "agent": "schema_mapping_agent", "document_id": "69348597d0b54cb9bbd59b80b5781e8f", "schema_type": "invoice"}
2025-11-18 20:54:02,303 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:24:02.303977", "step": "schema_extraction_completed", "agent": "schema_mapping_agent", "document_id": "69348597d0b54cb9bbd59b80b5781e8f", "status": "success"}
2025-11-18 20:54:02,303 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:24:02.303977", "step": "schema_extracted", "agent": "schema_mapping_agent", "document_id": "69348597d0b54cb9bbd59b80b5781e8f", "has_invoice_number": true, "has_vendor": true, "has_customer": true, "line_items_count": 2}
2025-11-18 20:54:02,303 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:24:02.303977", "step": "schema_validation_completed", "agent": "schema_mapping_agent", "document_id": "validation_document", "is_valid": false}
2025-11-18 20:54:02,304 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:24:02.303977", "step": "preparing_database_save", "agent": "schema_mapping_agent", "document_id": "69348597d0b54cb9bbd59b80b5781e8f", "customer_name": "Kevin Motors", "vendor_name": "GUJARAT FREIGHT TOOLS"}
2025-11-18 20:54:02,304 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:24:02.304977", "step": "parsing_dates", "agent": "schema_mapping_agent", "invoice_date_raw": "04-Mar-2020", "invoice_date_parsed": "2020-03-04", "due_date_raw": "19-Mar-2020", "due_date_parsed": "2020-03-19"}
2025-11-18 20:54:02,305 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:24:02.305977", "step": "invoice_updated", "agent": "schema_mapping_agent", "invoice_id": 2, "invoice_number": "GST112020"}
2025-11-18 20:54:02,305 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:24:02.305977", "step": "saving_vendor_info", "agent": "schema_mapping_agent", "invoice_id": 2, "vendor_name": "GUJARAT FREIGHT TOOLS"}
2025-11-18 20:54:02,306 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:24:02.306977", "step": "vendor_info_saved", "agent": "schema_mapping_agent", "invoice_id": 2}
2025-11-18 20:54:02,306 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:24:02.306977", "step": "saving_customer_info", "agent": "schema_mapping_agent", "invoice_id": 2, "customer_name": "Kevin Motors", "customer_address": "Chandani Chok, New Delhi, Opposite\nStatue, New Delhi, Delhi - 110014"}
2025-11-18 20:54:02,307 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:24:02.307979", "step": "customer_info_saved", "agent": "schema_mapping_agent", "invoice_id": 2}
2025-11-18 20:54:02,309 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:24:02.309976", "step": "invoice_saved_to_database", "agent": "schema_mapping_agent", "invoice_id": 2, "document_id": "69348597d0b54cb9bbd59b80b5781e8f", "invoice_number": "GST112020"}
2025-11-18 20:54:02,310 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:24:02.310976", "step": "invoice_saved_to_postgres", "agent": "schema_mapping_agent", "invoice_id": 2, "document_id": "69348597d0b54cb9bbd59b80b5781e8f"}
2025-11-18 20:54:02,310 - schema_mapping_agent - ERROR - ERROR: {"timestamp": "2025-11-18T15:24:02.310976", "error": "Collection objects do not implement truth value testing or bool(). Please compare with None instead: collection is not None", "agent": "schema_mapping_agent", "document_id": "69348597d0b54cb9bbd59b80b5781e8f", "invoice_id": 2}
2025-11-18 20:54:02,310 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:24:02.310976", "step": "schema_mapping_completed", "agent": "schema_mapping_agent", "document_id": "69348597d0b54cb9bbd59b80b5781e8f", "invoice_id": 2, "is_valid": false, "process_time": 9.74289321899414}
2025-11-18 20:54:02,310 - schema_mapping_agent - INFO - STEP: {"timestamp": "2025-11-18T15:24:02.310976", "step": "request_completed", "agent": "schema_mapping_agent", "method": "POST", "url": "http://localhost:8202/api/v1/schema-mapping/", "status_code": 200, "process_time": 9.74289321899414}
